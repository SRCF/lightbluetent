{% extends "base.html" %}

{% block body %}

<p>Hello, <b>{{ crsid }}</b>. Here are the stalls for your societies.</p>

<div class="card-columns">
  {% if not user_societies %}
    <p>You currently have no registered societies.</p><br />
  {% else %}
    {% for society in user_societies %}
      <div class="card">
        <div class="card-header" style="background-color: {{ society.banner_color }};">
          {% set current_logo = "images/{}".format(society.logo) %}
          {% if society.logo != "default_logo.png" %}
            <img src="{{ url_for('static', filename=current_logo) }}" alt="Society logo" class="img-thumbnail float-right soc_logo_thumbnail">
          {% endif %}
        </div>
        <div class="card-body">
          <h4 class="card-title">{{ society.name }} <small class="text-muted">{{ society.short_name }}</small></h4>
          <ul class="fa-ul">
            <li>
              <i class="fa fa-li fa-link" title="Stall URL"></i>
              <a href="{{ url_for('society.welcome', uid=society.uid) }}">{{ url_for('society.welcome', uid=society.uid, _external=True) }}</a>
            </li>
            <li>
                <i class="fa fa-li fa-users" title="Administrator"></i>
                {{ society.admins|map(attribute="crsid")|join(", ") }}
            </li>
          </ul>
        </div>
        <div class="card-footer">
          <a href="{{ url_for('admin.admin', uid=society.uid) }}" class="btn btn-outline-primary">Manage</a>
        </div>
      </div>
    {% endfor %}
  {% endif %}
</div>
<a href="{{ url_for('home.register_soc') }}" class="btn btn-outline-primary">Add a society</a>
{% endblock %}
